{"version":3,"sources":["services/DataService.js","pages/Home.js","pages/ClassBegin.js","pages/Class2.js","pages/ClassDone.js","App.js","serviceWorker.js","index.js","pages/util.js"],"names":["DataService","fetch","method","headers","Accept","response","text","body","data","JSON","parse","coaches","coachid","res","i","category_item","categories","result","id","name","en_name","push","courses","filter","item","index","indexOf","course_categories","muscle","muscles","length","j","cid","ciid","coach","category","course","videos","coach_videos","video","coach_id","video_skip","video_start_point","second_video","side_video","second_video_skip","React","createElement","Home","props","resetCounter","bind","getGymPhysicalFitnessCenter","state","handleKeys","parent","currentPage","setState","ccid","user","userId","age","gender","height","weight","accuniq","buttons","this","isDeveMode","interval","window","clearInterval","setInterval","a","newCountDown","countDown","qrcodeContent","startsWith","bcadata","substring","indbody","l","f","substr","replace","setTimeout","Number","isNaN","parseInt","loadJSON","getCoachList","setElementEventLintener","keys","Object","focus","onKeyEvent","key","e","page","util","style","backgroundImage","width","className","map","attr","avatar_url","avatar","tabIndex","row_index","col_index","col_max","ref","input","href","src","alt","opacity","loop","controls","muted","autoPlay","Component","ClassBegin","getExerciseWebSockit","app","Date","getTime","stringify","percentage","beforeExistPage","log","tools","Util","DateTimeFormat","end_time","start_time","title","changePage","pageIndex","sendLogNoScore","timer","count","Class2","value","self","getCourse","console","onplaying","event","start","target","pause","videoHeight","videoWidth","setAttribute","video2","onended","$","currentTime","play","event2","videoHeight2","videoWidth2","canvaies","find","forEach","remove","responseBody","responseState","nowTime","beforeStartTime","gotoFirstPage","Math","ceil","paused","doHold","isHold","doNoticeHold","isShowNotice","startHoldTime","noticeStartHoldTime","currentHoldTime","startTime","intervalCount","transition","transitionImg","h","abs","m","s","defaultCountDown","action","times","beginTime","startPoint","endTime","startPointLastTime","score","gotoNextPage","stop","lastTime","holdSec","alertMessage","alert","val","quit","quit_time","notice","_holdSec","step3","step2","noticeHoldSec","tip","note","duration","sec","round","hide","show","ws","send","color","newtimer","display","circleprogress","holdSecPreson","background","styles","buildStyles","strokeLinecap","pathColor","trailColor","backgroundColor","strokeWidth","currentHold","stopSecPreson","stopSec","actionCountDown","isShowTip","tip_value","paddingLeft","check","Catalog","getCourseList2","courseList","Class2Focus","encodeURI","courseSeqIndex","row_header","toUpperCase","toLowerCase","courseItem","courseIndex","gifSrc","video_preview","row_max","selectcallback","selectcallbackparam","image","marginLeft","ClassDone","split","actionCountTime","countTimes","avgtime","min","button2","sendLogScore","elapsed_time","countAvgTime","countAvgScore","startNumber","avgTime","fontSize","totalTime","targetpage","button1","App","keyEvent","KeyboardEventHandler_onKeyEvent","availableKeys","process","doExercise","websocketip","useWebSocket","prevProps","prevState","_app","WebSocket","onopen","onmessage","json","currentFoucs","includes","onclose","onerror","currentPageIndex","maxWidth","maxHeight","minHeight","minWidth","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message","canDoEvent","mode","crossDomain","date","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","floor","getMilliseconds","k","test","RegExp","$1","getFullYear","jqTarget","row","col","child","toLeft","css","parentNode","animate","scrollLeft","react","jqVisibleInputs","jqFirst","first","jqLast","last","l_row","l_col","l_child","l_toLeft","r_row","r_col","r_child","r_toLeft","addClass","one","removeClass","tagName","u_row","u_row_max","u_col","u_next","u_col_current","u_child","u_space","is","prev","d_row","d_row_max","d_col","d_next","d_col_current","d_child","d_space","next","exports"],"mappings":"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","file":"static/js/main.7cc24f8b.chunk.js","sourcesContent":["import React from 'react';\n\nclass DataService extends React.createElement {\n\n    static data = null\n\n    static async loadJSON(){\n        var response = await fetch('./course/courses.json', {\n            method: 'GET',\n            headers:{\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            }\n        });\n        var body = await response.text();\n        DataService.data = JSON.parse( body );\n    }\n\n    static getCoachList(){\n        return DataService.data.coaches;\n    }\n\n    static async getCourseList2(coachid){\n\n        let res = []\n        for(let i =0;i<DataService.data.categories.length;i++){\n\n            let category_item = DataService.data.categories[i];\n            let result = {id:category_item.id, name:category_item.name, en_name:category_item.en_name}\n            res.push(result);\n\n            result.courses = DataService.data.courses.filter((item, index) =>{\n                let result = item.coaches.indexOf(coachid) > -1 && item.course_categories.indexOf(category_item.id) > -1 ? item : null\n                //console.log( result )\n                if (result){\n                    item.muscle = ''\n                        for( var i=0;i<item.muscles.length;i++){\n                            for (var j=0;j<DataService.data.muscles.length;j++){\n                                if ( DataService.data.muscles[j].id === item.muscles[i]){\n                                    item.muscle += (item.muscle.length > 0 ? '、':'')  + DataService.data.muscles[j].name\n                                }\n                            }\n                        }\n                }\n                return result;\n            })\n        }\n        return res;\n    }\n\n    static async getCourse(coachid, cid, ciid){\n        let coach = DataService.data.coaches.filter((item, index) =>{\n            return item.id === coachid ? item : null\n        })[0];\n        let category = DataService.data.categories.filter((item, index) =>{\n            return item.id === cid ? item : null\n        })[0];\n\n        let course = DataService.data.courses.filter((item, index) =>{\n            let result =  item.coaches.indexOf(coachid) > -1 && item.course_categories.indexOf(cid) > -1 && item.id === ciid ? item : null\n\n            if (result ){\n                let videos = result.coach_videos.filter((video,index)=>{\n                    return video.coach_id === coachid ? video : null\n                });\n\n                result.video = videos[0].video\n                result.video_skip = videos[0].video_start_point ? videos[0].video_start_point : 0\n\n                result.second_video = videos[0].side_video\n                result.second_video_skip = videos[0].video_start_point ? videos[0].video_start_point : 0\n\n            }\n\n            return result;\n        })[0]\n\n        course.coach = coach\n        course.category = category\n\n        return course;\n    }\n}\n\nexport { DataService };","import React from 'react';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport {DataService} from '../services/DataService';\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        this.resetCounter = this.resetCounter.bind(this)\n        this.getGymPhysicalFitnessCenter = this.getGymPhysicalFitnessCenter.bind(this)\n\n        this.state = { \"countDown\": 30,handleKeys : ['enter','z','c'], coaches:[] }\n        this.props.parent.currentPage = this;\n        this.props.parent.setState({\"availableKeys\" : this.state.handleKeys, coachid:null, cid:null, ccid:null,\n                                    user:{userId:null,age:null,gender:null,height:null,weight:null,accuniq:null}\n    })\n\n        this.buttons={}\n    }\n\n    setTimeout(){\n        if (this.props.parent.state.isDeveMode === false){\n            if (this.state.interval)\n                window.clearInterval( this.state.interval )\n\n            var interval = window.setInterval(async ()=>{\n                if ( this.state != null ){\n                    var newCountDown = this.state.countDown -1\n                    this.setState({ \"countDown\": newCountDown})\n                    if ( newCountDown === 0){\n                        this.props.parent.setState({user:{userId:null,age:null,gender:null,height:null,weight:null,accuniq:null}})\n                        window.clearInterval( this.state.interval )\n                        this.setState({\"interval\":null})\n                    }\n                }\n            }, 1000)\n\n            this.setState({\"interval\":interval})\n        }\n    }\n\n    async getGymPhysicalFitnessCenter(qrcodeContent){\n        if (qrcodeContent.startsWith(\"https://qr.accuniq.com/accuniq?bcadata=\")) {\n            let bcadata = qrcodeContent.substring(\"https://qr.accuniq.com/accuniq?bcadata=\".length)\n            var indbody = [\n                // 0-9\n                {l:2,f:''},{l:6,f:''},{l:10,f:''},{l:20,f:''},{l:1,f:''},\n                {l:3,f:''},{l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},\n                // 10-19\n                {l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},\n                {l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},\n\n                // 20-29\n                {l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},\n                {l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},\n                // 30-39\n                {l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},\n                {l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},\n                // 40-49\n                {l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},\n                {l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},{l:4,f:3},\n                // 50-59\n                {l:4,f:3},{l:4,f:3},{l:20,f:''},{l:3,f:1},{l:12,f:''},\n                {l:16,f:''},{l:2,f:''},{l:3,f:''},{l:13,f:''},{l:3,f:2},\n                // 60-69\n                {l:16,f:''},{l:3,f:0},{l:17,f:''},{l:3,f:''},{l:4,f:''},\n                {l:4,f:''},{l:1,f:''},{l:4,f:3},{l:5,f:4},{l:5,f:4},\n                // 70-79\n                {l:5,f:4},{l:5,f:''},{l:5,f:''},{l:4,f:''},{l:5,f:4},\n                {l:5,f:4},{l:4,f:3},{l:4,f:3},{l:4,f:''},{l:3,f:''},\n                // 80-89\n                {l:3,f:''},{l:3,f:''},{l:3,f:''},{l:3,f:''},{l:3,f:''},\n                {l:3,f:''},{l:3,f:''},{l:3,f:''},{l:3,f:''},{l:3,f:''},\n                // 90-99\n                {l:3,f:''},{l:3,f:''},{l:3,f:''},{l:3,f:''},{l:4,f:''},\n                {l:3,f:''},{l:73,f:''}\n\n                ]\n                var result = [];\n\n                var index =0;\n                for(var i=0;i<indbody.length;i++){\n                    if(indbody[i].l){\n                        result[i] = bcadata.substring(index,index+indbody[i].l)\n                        index += indbody[i].l;\n                        if(indbody[i].f !== ''){\n                            if (indbody[i].f === 0){\n                                result[i] = \"0.\"+result[i]\n                            }else{\n                                result[i] = result[i].substr(0,indbody[i].f)+\".\"+result[i].substr(indbody[i].f)\n                            }\n                        }\n                    } else {\n                        result[i] = null\n                    }\n                }\n\n                this.props.parent.setState({user:{userId:result[3].replace(/\\*/g,\"\"),age:result[5],gender:result[4],height:result[6],weight:result[7],accuniq:qrcodeContent}})\n                this.setTimeout();\n        } else if(Number.isNaN( parseInt(qrcodeContent) ) === false ) {\n            this.props.parent.setState({user:{userId:qrcodeContent,age:null,gender:null,height:null,weight:null,accuniq:null}})\n            this.setTimeout();\n        } else if( Number.isNaN( parseInt(qrcodeContent) ) && (qrcodeContent.startsWith(\"P\") || qrcodeContent.startsWith(\"T\") ) ){\n            this.props.parent.setState({user:{userId:qrcodeContent,age:null,gender:null,height:null,weight:null,accuniq:null}})\n            this.setTimeout();\n        }\n    }\n\n    resetCounter(){\n        this.setState({\"countDown\":30})\n    }\n\n    async componentDidMount() {\n        await DataService.loadJSON()\n        this.setState({coaches: DataService.getCoachList()})\n        window.setElementEventLintener(\"Home\")\n\n        var keys = Object.keys(this.buttons);\n        if (keys.length > 0){\n            if (this.state.coachid){\n                for(let i=0;i<keys.length;i++){\n                    if( keys[i] === this.state.coachid){\n                        this.buttons[keys[i]].focus();\n                        break;\n                    }\n                }\n            } else\n                this.buttons[keys[0]].focus();\n        }\n    }\n\n    componentWillUnmount(){\n        if (this.props.parent.state.isDeveMode === false){\n            if (this.state.interval)\n                window.clearInterval( this.state.interval )\n        }\n    }\n\n    render(){\n        return (<KeyboardEventHandler\n                handleKeys={this.state.handleKeys}\n                onKeyEvent={(key, e, page) => this.props.util(key, e, this, page)} >\n                <div style={{backgroundImage:'url(./assets/v_bg.jpg)', width:1080, height:1920}}>\n                    <div className=\"home_selectCoach\">\n                        請選擇教練\n                    </div>\n\n                    <div className=\"home_selectCoachAreaSize\" >\n                        {\n                            this.state.coaches.map((item,index) => {\n                                var attr = '{\"coachid\":\"'+item.id+'\"}'\n                                let avatar_url = \"./course\"+item.avatar\n                                return <div className=\"home_coachArea\"\n                                            tabIndex={index}\n                                            key={index}\n                                            attr={attr}\n                                            row_index={0}\n                                            col_index={index}\n                                            col_max={2}\n                                            ref={(input) => { this.buttons[item.id] = input }} href=\"#\"\n                                        >\n\n                                            <div className=\"home_videoArea\" >\n                                                <img src={avatar_url} alt=\"coach\" style={{height:\"100%\",opacity:0.3}} ></img>\n                                            </div>\n\n                                    </div>\n                            })\n                        }\n                    </div>\n                    {\n                        this.props.parent.state.user.userId ?\n                        <div className=\"home_auth\">\n                            歡迎 {this.props.parent.state.user.userId} 登入系統\n                        </div>\n                        :\n                        <div className=\"home_auth\">\n                            請對著鏡頭掃描 QRCode 作登入之身份認證\n                        </div>\n                    }\n\n\n                    <video className=\"home_tour\" loop={true} controls={false} muted={true} autoPlay={true}>\n                        <source src=\"/assets/homedir.mp4\"></source>\n                    </video>\n                </div>\n            </KeyboardEventHandler>)\n    }\n}\n\nexport default Home;\n","import React from 'react';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport { CircularProgressbarWithChildren, buildStyles } from 'react-circular-progressbar';\nimport tools from './util.js'\n\nimport {DataService} from '../services/DataService';\n\nclass ClassBegin extends React.Component {\n    constructor(props) {\n        super(props);\n        this.resetCounter = this.resetCounter.bind(this)\n        this.getExerciseWebSockit = this.getExerciseWebSockit.bind(this)\n\n        this.app = this.props.parent;\n        this.state = { 'handleKeys' : [/*'enter','left'*/],\n                        'beforeStartTime' : new Date().getTime(),\n                        'startTime': null,\n                        'intervalCount' : 0,\n                        'course':null,\"countDown\":6,\"timer\":\"00:06\",\"newtimer\":\"\",\"start\":false,\"counter\":0,\n                        \"isShowTip\":false,'tip':JSON.stringify([{\n                                                    \"name\": \"雙腳打開與肩同寬\",\n                                                    \"check\": false\n                                                },\n                                                {\n                                                    \"name\": \"雙手抓取啞呤慢慢彎曲手臂向上彎舉\",\n                                                    \"check\": true\n                                                }]),\n                        \"isHold\":false,\"holdSec\":2,\"currentHold\":0,\"startHoldTime\":0,\"holdSecPreson\":1,\n                        \"isShowNotice\":false, 'notice':'左肩膀移動了，請回到預備動作重新開始!',\n                        \"noticeHoldSec\":2,\"noticeCurrentHold\":0,\"noticeStartHoldTime\":0,\"noticeHoldSecPreson\":1,\n                        \"quit_time\" : null,\n                        \"actionCountDown\": 12,\n                        \"defaultCountDown\": 12,\n                        \"stopSecPreson\" : 0 ,\"stopSec\":0,\n                        \"responseBody\": null}\n        this.props.parent.currentPage = this;\n        this.props.parent.setState({\"availableKeys\" : this.state.handleKeys})\n\n        this.percentage = 30\n    }\n\n    async gotoFirstPage(page){\n        this.beforeExistPage();\n\n        let user = this.app.state.user;\n        let log = this.props.parent.state.log;\n        log['end_time'] = tools.Util.DateTimeFormat(new Date(),\"yyyy/MM/dd hh:mm:ss\")\n        log['elapsed_time'] = ( Date.parse(log.end_time) - Date.parse(log.start_time) ) / 1000\n        log['page'] = page;\n        log['course'] = user.course.title\n\n        this.app.changePage( this.app.state.pageIndex.Home )\n        tools.Util.sendLogNoScore(log);\n    }\n\n    async gotoNextPage(){\n        this.beforeExistPage();\n\n        let user = this.app.state.user;\n        user['timer'] = this.state.timer;\n        user['end_time'] = tools.Util.DateTimeFormat(new Date(),\"yyyy/MM/dd hh:mm:ss\")\n        user['elapsed_time'] = ( Date.parse(user.end_time) - Date.parse(user.start_time) ) / 1000\n        user['correct_rate'] = 99\n        this.app.setState({\"user\":user})\n\n        if (user.count > 0)\n            this.app.changePage( this.app.state.page+1 )\n        else {\n            let log = this.props.parent.state.log;\n\n            log['end_time'] = tools.Util.DateTimeFormat(new Date(),\"yyyy/MM/dd hh:mm:ss\")\n            log['elapsed_time'] = ( Date.parse(log.end_time) - Date.parse(log.start_time) ) / 1000\n            log['page'] = 'Page 3';\n            log['course'] = user.course.title\n\n            this.app.changePage( this.app.state.pageIndex.Class2 )\n            tools.Util.sendLogNoScore(log);\n        }\n    }\n\n    resetCounter(){\n    }\n\n    getExerciseWebSockit(value){\n        this.setState({\"responseBody\":value})\n    }\n\n    async componentDidMount() {\n        window.setElementEventLintener(\"ClassBegin\")\n        let self = this;\n        var course = await DataService.getCourse(this.app.state.coachid,this.app.state.cid,this.app.state.ciid);\n        console.log( JSON.stringify(course,null,4))\n        this.setState({\"course\": course ,\n                       \"countDown\":3,\"timer\":\"00:03\",\"start\":false})\n\n        this.app.setState({\"user\":{\n            \"course\" : course,\n            'count' : 0,\n            'countTimes' : [],\n            'score' : 0,\n\n            'coach': course.coach.name,\n            'category': course.category.name,\n            'userId' : this.app.state.user.userId,\n            \"age\": this.app.state.user.age,\n            \"gender\": this.app.state.user.gender,\n            \"height\": this.app.state.user.height,\n            \"weight\": this.app.state.user.weight,\n            \"accuniq\": this.app.state.user.accuniq,\n        }})\n\n\n        this.video.onplaying = function(event) {\n            if (self.state.start === false )\n                event.target.pause();\n            let videoHeight = event.target.videoHeight;\n            let videoWidth = event.target.videoWidth;\n            event.target.setAttribute(\"style\",'left:'+  (( 1080 - (1450*videoWidth/videoHeight) ) / 2) +'px; ')\n        };\n\n        if (this.video2 != null){\n            this.video.onended = function(event) {\n                window.$('#videoplayer')[0].currentTime = self.state.course.video_skip;\n                window.$('#videoplayer2')[0].currentTime = self.state.course.second_video_skip;\n                window.$('#videoplayer')[0].play()\n                window.$('#videoplayer2')[0].play()\n            };\n\n            this.video2.onplaying = function(event2) {\n                if (self.state.start === false )\n                    event2.target.pause();\n                let videoHeight2 = event2.target.videoHeight;\n                let videoWidth2 = event2.target.videoWidth;\n                event2.target.setAttribute(\"style\",'left:'+  (( 1080 - (1450*videoWidth2/videoHeight2) ) / 2) +'px; ')\n            };\n\n            this.video2.onended = function(event) {\n                window.$('#videoplayer')[0].currentTime = self.state.course.video_skip;\n                window.$('#videoplayer2')[0].currentTime = self.state.course.second_video_skip;\n                window.$('#videoplayer')[0].play()\n                window.$('#videoplayer2')[0].play()\n            };\n        }\n\n        var interval = window.setInterval(async()=>{\n            let canvaies = window.$.find('canvas');\n            if (canvaies.length>0){\n                canvaies.forEach(function(value){\n                    value.remove();\n                });\n            }\n\n            let responseBody = null\n            let responseState = false;\n\n            responseBody = this.state.responseBody\n            responseState = responseBody === null;\n\n\n            let nowTime = new Date().getTime()\n\n            if (responseState){\n\n                if ((nowTime - this.state.beforeStartTime) >= 30 * 1000) {\n                    if (this.props.parent.state.isDeveMode === false){\n                        this.gotoFirstPage('Page 3 no response');\n                    }\n                } else {\n                    this.setState({\"stopSecPreson\": (nowTime - this.state.beforeStartTime)/1000/30 })\n                    this.setState({\"stopSec\": Math.ceil( (nowTime - this.state.beforeStartTime)/ 1000) })\n                    if (this.props.parent.state.isDeveMode === true){\n\n                        if (Math.ceil( (nowTime - this.state.beforeStartTime)/ 1000) > 10 && this.video.paused){\n                            this.setState({start:true})\n\n                            if (this.video2 != null){\n                                window.$('#videoplayer')[0].currentTime = this.state.course.video_skip;\n                                window.$('#videoplayer2')[0].currentTime = this.state.course.second_video_skip;\n                                this.video.play();\n                                this.video2.play();\n\n                            } else {\n                                this.video.play();\n                            }\n                        }\n                    }\n                }\n\n            } else {\n                let doHold = this.state.isHold;\n                let doNoticeHold = this.state.isShowNotice;\n\n                let startHoldTime = this.state.startHoldTime;\n                let noticeStartHoldTime = this.state.noticeStartHoldTime;\n                let currentHoldTime = new Date().getTime();\n\n                var value = responseBody\n\n                if ( !value.start ){ // 姿勢設定\n                    console.log(\"tip\",value.tip.note)\n                    this.setState({\"isShowTip\": (value.tip.note.length > 0),\n                                \"tip\" : value.tip,\n                                \"holdSec\": value.tip.duration})\n\n                    if ((nowTime - this.state.beforeStartTime) >= 30 * 1000) {\n                        console.log( \"response not ok.....30秒\")\n                        this.gotoFirstPage('Page 3 not Start ')\n\n                    } else {\n                        this.setState({\"stopSecPreson\": (nowTime - this.state.beforeStartTime)/1000/30 })\n                        this.setState({\"stopSec\": Math.ceil( (nowTime - this.state.beforeStartTime)/ 1000) })\n\n                    }\n\n                } else { //開始倒數\n                    this.setState({\"isShowTip\": false})\n                    if (this.state.startTime == null)\n                        this.setState({\"startTime\":nowTime})\n\n                    if (this.state.intervalCount % 10 === 0){\n                        if ( this.state != null && this.state.course != null ){\n                            var newCountDown = this.state.countDown\n\n                            if (this.state.start === false){\n                                newCountDown = newCountDown-1\n                                this.setState({\"stopSecPreson\":0, \"stopSec\": 0});\n\n                                if (newCountDown === 0){\n                                    this.setState({ \"start\":true})\n\n                                    let user = this.app.state.user;\n                                    user['start_time'] = tools.Util.DateTimeFormat(new Date(),\"yyyy/MM/dd hh:mm:ss\")\n                                    this.app.setState({\"user\":user})\n                                    this.transition.setAttribute(\"style\",'display:block; ')\n                                    this.transitionImg.setAttribute(\"src\",'')\n                                    this.transitionImg.setAttribute(\"src\",\"./assets/start.gif\")\n                                    this.transitionImg.setAttribute(\"style\",'display:block; ')\n                                }\n                            }else{\n                                this.transition.setAttribute(\"style\",'display:none; ')\n                                this.transitionImg.setAttribute(\"src\",'')\n                                this.transitionImg.setAttribute(\"style\",'display:none; ')\n                                newCountDown = newCountDown+1\n                            }\n                            newCountDown = newCountDown < 0 ? 0  : newCountDown\n\n                            var h = parseInt( Math.abs(newCountDown) / 3600 )\n                            var m = parseInt( Math.abs(newCountDown) / 60 )\n                            var s = Math.abs(newCountDown) % 60\n                            var timer = (h > 0 ? (h<10 ? \"0\"+h : h )+\":\"  :'')+(m<10 ? \"0\"+m : m ) +\":\"+( s< 10 ?\"0\"+s : s)\n                            this.setState({ \"timer\": timer, \"countDown\": newCountDown, \"newtimer\":s})\n\n                        }\n                    }\n\n\n                    if (this.state.start){\n                        if (this.video.paused){\n                            if (this.video2 != null){\n                                window.$('#videoplayer')[0].currentTime = this.state.course.video_skip;\n                                window.$('#videoplayer2')[0].currentTime = this.state.course.second_video_skip;\n                                this.video.play();\n                                this.video2.play();\n                            } else {\n                                this.video.play();\n                            }\n                        }\n\n                        let user = this.app.state.user;\n\n                        this.setState({\"actionCountDown\" : this.state.defaultCountDown - value.action.times})\n\n                        if (value.action.times > user['count']){\n                            user['count'] = value.action.times;\n                            let beginTime = Date.parse(value.action.startPoint)\n                            let endTime = Date.parse(value.action.startPointLastTime)\n                            user['countTimes'].push(endTime - beginTime)\n                            user['score'] = value.action.score\n\n                            this.app.setState({\"user\":user})\n\n                            if ( this.state.defaultCountDown - value.action.times === 0){\n                                console.log(\"完成 \"+this.state.defaultCountDown+\" 次...\")\n                                this.gotoNextPage();\n                            }\n                        }\n\n                        if (value.action.stop === true){\n                            this.setState({\"isHold\":false})\n                            doHold = false;\n                        }\n\n                        if (value.action.startPoint !== \"\" ){\n                            let lastTime = Date.parse(value.action.startPoint)\n                            if ((nowTime - lastTime) < 0.5 * 1000) {\n                                this.setState({\"stopSecPreson\":0, \"stopSec\": 0});\n\n                                doHold = true;\n                                doNoticeHold = false;\n                                this.setState({\"isShowNotice\": false,\n                                        \"isHold\":true,\"startHoldTime\":nowTime,\"currentHold\":this.state.holdSec})\n                                currentHoldTime = nowTime;\n                            }\n                        }\n\n                        if (value.action.startPointLastTime !== \"\" ){\n                            let lastTime = Date.parse(value.action.startPointLastTime)\n\n                            if ((nowTime - lastTime) < 0.5 * 1000) {\n                                let alertMessage = '';\n                                value.action.alert.forEach(function(val){\n                                    alertMessage += ( alertMessage.length>0 ? '<br/>' : '') +val;\n                                });\n\n                                doNoticeHold = true;\n                                this.setState({\"isShowNotice\": true, \"notice\": alertMessage,\n                                \"noticeStartHoldTime\":nowTime,\"noticeCurrentHold\":2})\n                            }\n\n                            if ((nowTime - lastTime) >= 30 * 1000) {\n                                console.log(\"超過 30秒...\")\n                                this.gotoNextPage();\n                            } else {\n                                this.setState({\"stopSecPreson\": (nowTime - lastTime)/1000/30 })\n                                this.setState({\"stopSec\": Math.ceil( (nowTime - lastTime)/ 1000) })\n                            }\n                        } else {\n                            if ((nowTime - this.state.startTime) >= 30 * 1000) {\n                                console.log( \"No action any one .....30秒\")\n\n                                this.gotoFirstPage('Page 3 no action any one ')\n                            } else {\n                                this.setState({\"stopSecPreson\": (nowTime - this.state.startTime)/1000/30 })\n                                this.setState({\"stopSec\": Math.ceil( (nowTime - this.state.startTime)/ 1000) })\n                            }\n                        }\n\n                        if (value.action.quit){\n                            let lastTime = nowTime\n                            if (this.state.quit_time != null){\n                                lastTime = this.state.quit_time\n                            } else {\n                                this.setState({\"quit_time\" : nowTime})\n                            }\n\n                            doNoticeHold = true;\n                            let alertMessage = \"三秒後離開\"\n                            this.setState({\"isShowNotice\": true, \"notice\": alertMessage,\n                                \"noticeStartHoldTime\":nowTime,\"noticeCurrentHold\":2})\n\n                            if ((nowTime - lastTime) >= 2 * 1000) {\n                                this.gotoNextPage();\n                            }\n                        } else {\n                            this.setState({\"quit_time\" : null})\n                            if (doNoticeHold){\n                                if (this.state.notice === \"三秒後離開\"){\n                                    doNoticeHold = false;\n                                    this.setState({\"isShowNotice\": false});\n                                }\n                            }\n                        }\n                    }\n\n                    if (doHold){\n                        let _holdSec = this.state.holdSec*1000\n                        let step1 = startHoldTime + _holdSec;\n                        let step2 = step1 - currentHoldTime;\n                        let step3 = step2 / _holdSec\n                        this.setState({\"currentHold\" : Math.ceil( step2/ 1000),\n                                    \"holdSecPreson\": step3,\"isHold\":step3 > 0})\n                    }\n\n                    if (doNoticeHold){\n                        let _holdSec = this.state.noticeHoldSec*1000\n                        let step1 = noticeStartHoldTime + _holdSec;\n                        let step2 = step1 - nowTime;\n                        let step3 = step2 / _holdSec\n                        this.setState({\"isShowNotice\":step3 > 0, \"isHold\":false})\n                    }\n\n                    this.setState({'intervalCount':this.state.intervalCount+1})\n                }\n            }\n            if (this.video2 != null ){\n                let sec =  Math.round( (nowTime - this.state.beforeStartTime)/ 1000) % 10;\n                if ( sec === 5 ){\n                    window.$('#videoplayer').hide()\n                    window.$('#videoplayer2').show()\n                } else if ( sec === 0){\n                    window.$('#videoplayer2').hide()\n                    window.$('#videoplayer').show()\n                }\n            }\n        }, 100)\n        this.setState({\"interval\":interval})\n\n        this.app.setState({\"doExercise\":true})\n    }\n\n    //async componentWillUnmount(){\n    async beforeExistPage(){\n        this.app.setState({\"doExercise\":false})\n\n        window.clearInterval( this.state.interval )\n        if (this.props.parent.state.isDeveMode === false){\n            this.app.ws.send( JSON.stringify({\"function\":\"endExercise\"} ))\n        }\n    }\n\n\n    render(){\n        return (<KeyboardEventHandler\n                handleKeys={this.state.handleKeys}\n                onKeyEvent={(key, e, page) => this.props.util(key, e, this, page)} >\n                <div style={{backgroundImage:'url(./assets/v_bg.jpg)', width:1080, height:1920}}>\n                    <div className=\"classBegin_backgroundImg\" ></div>\n\n                    <div className=\"chanetransition\"\n                        ref={(input) => { this.transition = input; }} ></div>\n                    <div className=\"classBegin_ClassName\" style={{color: this.state != null && this.state.course != null ? this.state.start ? \"#d4d4d4\" : \"#74E0FC\" : \"#74E0FC\"}}>\n                    { this.state != null && this.state.course != null ? this.state.start ? this.state.course.title : \"<請就預備姿勢>\" : null}\n                    </div>\n                    <div className=\"classBegin_Timer\">\n                        { this.state != null && this.state.timer != null ? this.state.start ? this.state.timer : \"\" : null}\n                    </div>\n                    <div className=\"classBegin_newTimer\">{ this.state != null && this.state.newtimer != null ? !this.state.start ? this.state.newtimer : \"\" : null}</div>\n\n                    <div className=\"classBegin_circleProgress\"\n                        style={{display: this.state.isHold ? 'block' : 'none' }}\n                    ref={(input) => { this.circleprogress = input; }}\n                    >\n                        <CircularProgressbarWithChildren\n                            value={ parseInt(this.state.holdSecPreson * 100 )}\n                            background\n                            styles={buildStyles({\n                                strokeLinecap: \"butt\",\n                                pathColor: '#17FF21',\n                                trailColor: 'rgba(214, 214, 214, 0.6)',\n                                backgroundColor: 'rgba(0, 0, 0, 0.7)',\n                            })}\n                            strokeWidth={5}\n                            >\n                            <div className=\"classBegin_circleProgress_title\">動作</div>\n                            <div className=\"classBegin_circleProgress_value\">{this.state.currentHold}</div>\n                            <div className=\"classBegin_circleProgress_sec\">秒</div>\n                        </CircularProgressbarWithChildren>\n                    </div>\n\n                    <div className=\"classBegin_stopCircleProgress\" style={{display:'none'}}>\n                    <CircularProgressbarWithChildren\n                            value={ parseInt(this.state.stopSecPreson * 100 ) }\n\n                            styles={buildStyles({\n                                strokeLinecap: \"butt\",\n                                pathColor: '#17FF21',\n                                trailColor: 'rgba(214, 214, 214, 0.6)',\n                            })}\n                            strokeWidth={5}\n                            >\n\n                            <div className=\"classBegin_stopCircleProgress_value\">{this.state.stopSec}</div>\n\n                        </CircularProgressbarWithChildren>\n                    </div>\n\n                    <div className=\"classBegin_counter\" style={{display: this.state.start ? 'block' : 'none' }}></div>\n                    <div className=\"classBegin_SET_Title\" style={{display: this.state.start ? 'block' : 'none' }}>剩餘次數</div>\n                    <div className=\"classBegin_SET_Value\" style={{display: this.state.start ? 'block' : 'none' }}>{this.state.actionCountDown}</div>\n\n                    <img className=\"classBegin_StartImg\" src=\"\"\n                        style={{display:'none'}}\n                        ref={(input) => { this.transitionImg = input; }} alt=\"\"></img>\n\n\n                    { (this.state != null && this.state.course != null && this.state.course.second_video == null)\n                        ?\n                        <video id=\"videoplayer\" controls={false}  loop={true} autoPlay={true} className=\"classBegin_video\" muted=\"muted\" ref={(video) => { this.video = video; }}>\n                            <source src={this.state != null && this.state.course != null ? '/course'+this.state.course.video : null} />\n                        </video>\n                        :\n                        <video id=\"videoplayer\" controls={false} autoPlay={true} className=\"classBegin_video\" muted=\"muted\" ref={(video) => { this.video = video; }}>\n                            <source src={this.state != null && this.state.course != null ? '/course'+this.state.course.video : null} />\n                        </video>\n                    }\n\n                    {\n                        (this.state != null && this.state.course != null && this.state.course.second_video != null) ?\n                    <video id=\"videoplayer2\" controls={false} autoPlay={true} className=\"classBegin_video2\" muted=\"muted\" ref={(video2) => { this.video2 = video2; }}>\n                        <source src={this.state != null && this.state.course != null ? '/course'+this.state.course.second_video : null} />\n                    </video>\n                        :null\n                    }\n\n                    <div className=\"classBegin_HoldImg\" style={{display: this.state.isHold ? 'none'/*'block'*/ : 'none' }}>\n                        <div className=\"classBegin_HoldImg_Title\">動作時間</div>\n                        <div className=\"classBegin_HoldImg_value_area\" >\n                        <div className=\"classBegin_HoldImg_Value\">{this.state.currentHold}</div><div className=\"classBegin_HoldImg_Sec\">秒</div>\n                        </div>\n                        <div className=\"classBegin_HoldImg_progressBar_base\" >\n                            <div className=\"classBegin_HoldImg_progressBar_value\" style={{width: 597 * this.state.holdSecPreson }}></div>\n                        </div>\n                    </div>\n\n                    <div className=\"classBegin_noticeboard\" style={{display: this.state.isShowNotice ? 'block' : 'none' }}>\n                        <div className=\"classBegin_noticeboard_title\">{this.state.notice}</div>\n                    </div>\n\n                    <div className=\"classBegin_actionTip\" style={{display: this.state.isShowTip ? 'block' : 'none' }}>\n                        <div className=\"classBegin_actionTip2\" >\n                            <div className=\"classBegin_actionTip_img\"></div>\n                            <div className=\"classBegin_actionTip_text\">\n                                <div>\n                                {\n                                (this.state.tip.length > 0)\n                                ?\n                                JSON.parse( this.state.tip ).map( (tip_value, index )=>{\n                                    return <span style={{display:'block',paddingLeft:75,color:( tip_value.check ? '#17FF21' : '#D4D4D4')}} key={index}>\n                                            {(tip_value.check)\n                                            ? <i className=\"classBegin_checked\"/>\n                                            : <i className=\"classBegin_unchecked\"/>\n                                            }\n                                            {index+1}.{tip_value.name}</span>\n                                })\n                                : null\n                                }</div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"classBegin_QuickImage\" style={{display: this.state.start ? 'block' : 'none' }}></div>\n                    <div className=\"classBegin_QuickTextArea\" style={{display: this.state.start ? 'block' : 'none' }}><div style={{color:\"#17FF21\"}}>離開</div>左手45度(持續3秒)</div>\n                </div>\n            </KeyboardEventHandler>)\n    }\n}\n\nexport default ClassBegin;\n","import React from 'react';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport tools from './util';\n\nimport {DataService} from '../services/DataService';\n\nclass Catalog extends React.Component {\n    constructor(props) {\n        super(props);\n        this.resetCounter = this.resetCounter.bind(this)\n\n        this.app = this.props.parent;\n        this.state = { \"countDown\": 30, handleKeys : [/*'up','down'*/'s','x','enter','z','c'/*'left','right'*/,'esc'], \"courseList\":[] }\n        this.buttons = {}\n        this.props.parent.currentPage = this;\n        this.props.parent.setState({\n            \"availableKeys\" : this.state.handleKeys,\n            \"log\":{\n                'start_time':tools.Util.DateTimeFormat(new Date(),\"yyyy/MM/dd hh:mm:ss\"),\n                'end_time':'',\n                'elapsed_time':'',\n                'course':'',\n                'page':''\n            }\n        })\n    }\n\n    resetCounter(){\n        this.setState({\"countDown\":30})\n    }\n\n    async componentDidMount() {\n        await DataService.loadJSON()\n\n        let courseList = await DataService.getCourseList2(this.props.parent.state.coachid);\n        this.setState({\"courseList\": courseList})\n\n        if (this.props.parent.state.isDeveMode === false){\n            var interval = window.setInterval(async ()=>{\n                if ( this.state != null ){\n                    var newCountDown = this.state.countDown -1\n                    this.setState({ \"countDown\": newCountDown})\n                    if ( newCountDown === 0){\n                        let log = this.props.parent.state.log;\n                        log['end_time'] = tools.Util.DateTimeFormat(new Date(),\"yyyy/MM/dd hh:mm:ss\")\n                        log['elapsed_time'] = ( Date.parse(log.end_time) - Date.parse(log.start_time) ) / 1000\n                        log['page'] = 'Page 2';\n                        this.app.changePage( this.app.state.pageIndex.Home )\n                        tools.Util.sendLogNoScore(log);\n                    }\n                }\n            }, 1000)\n\n            this.setState({\"interval\":interval})\n        }\n\n        setTimeout( ()=>{\n            window.setElementEventLintener(\"Class2\")\n\n            if (this.props.parent.state.cid && this.props.parent.state.ciid) {\n                tools.Util.Class2Focus(this.buttons[this.props.parent.state.cid+\"_\"+this.props.parent.state.ciid])\n            } else\n                this.buttons[Object.keys(this.buttons)[0]].focus();\n\n        }, 500)\n    }\n\n    componentWillUnmount(){\n        if (this.props.parent.state.isDeveMode === false){\n            if (this.state.interval)\n                window.clearInterval( this.state.interval )\n        }\n    }\n\n    async mycallback(title){\n        if (this.props.parent.state.isDeveMode === false){\n            this.app.ws.send( JSON.stringify({\"function\":\"uploadCourse\", \"name\":encodeURI(title)} ))\n        }\n    }\n\n    render(){\n        let courseSeqIndex = 0;\n        return <KeyboardEventHandler\n                    handleKeys={this.state.handleKeys}\n                    onKeyEvent={(key, e, page) => this.props.util(key, e, this, page)} >\n                    <div style={{backgroundImage:'url(./assets/v_bg.jpg)', width:1080, height:1920}}>\n\n                        <div className=\"class2_area\" >\n                        {\n                            this.state.courseList.map((item,index) => {\n                                var attr = '{\"cid\":\"'+item.id+'\"}'\n                                return <div className=\"class2_catalog_area\" attr={attr} key={item.id}>\n                                            <div className=\"class2_catalog\" row_index = {index} row_header=\"true\" >\n                                                <div className=\"class2_catalog_Name1\" >{item.en_name.substr(0,1).toUpperCase()}</div>\n                                                <div className=\"class2_catalog_Name2\">{item.en_name.toLowerCase()}</div>\n                                                <div className=\"class2_catalog_Name3\">{item.name}</div>\n                                            </div>\n                                            <div className=\"class2_course_area\">\n                                            {\n                                                item.courses.map((courseItem, courseIndex)=>{\n                                                    var attr = '{\"cid\":\"'+item.id+'\",\"ciid\":\"'+courseItem.id+'\"}'\n                                                    let gifSrc = \"\"\n                                                    for(let i=0;i<courseItem.coach_videos.length;i++){\n                                                        if ( courseItem.coach_videos[i].coach_id === this.props.parent.state.coachid){\n                                                            gifSrc = \"./course\"+courseItem.coach_videos[i].video_preview\n                                                            break;\n                                                        }\n                                                    }\n\n                                                    return <div className=\"class2_courseItem\"\n                                                            ref={(input) => { this.buttons[item.id+\"_\"+courseItem.id] = input }} href=\"#\"\n                                                            key={courseItem.id}\n                                                            tabIndex={courseSeqIndex++}\n                                                            row_index = {index}\n                                                            row_max = {this.state.courseList.length}\n                                                            col_index = {courseIndex}\n                                                            col_max = {item.courses.length}\n                                                            attr={attr}\n                                                            selectcallback=\"mycallback\"\n                                                            selectcallbackparam={courseItem.title}\n                                                        >\n                                                        <img className=\"class2_courseImage\" alt={courseItem.title} src={process.env.PUBLIC_URL + './course' + courseItem.image} ></img>\n\n                                                        <div className=\"class2_courseName_wrapper\" ></div>\n                                                        <div className=\"class2_courseName_title\" >{courseItem.title}</div>\n\n                                                        <div className=\"class2_courseWrappImage_area\">\n                                                            <div className=\"class2_courseWrappImage_border\" ></div>\n                                                            <img className=\"class2_courseWrapperImage\" src={gifSrc} alt={courseItem.title}/>\n                                                        </div>\n                                                    </div>\n                                                })\n                                            }\n                                            {\n                                                item.courses.length > 1 ?\n                                                <div style={{marginLeft:80}}>&amps;</div>\n                                                : null\n                                            }\n\n                                            </div>\n                                        </div>\n                            })\n                        }\n                        </div>\n\n                        <video className=\"class2_tour\" loop={true} controls={false} muted={true} autoPlay={true}>\n                            <source src=\"/assets/horizontal.mp4\"></source>\n                        </video>\n\n                    </div>\n                </KeyboardEventHandler>\n    }\n}\n\nexport default Catalog;\n","import React from 'react';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport tools from './util.js'\n\nclass ClassDone extends React.Component {\n    constructor(props) {\n        super(props);\n        this.app = this.props.parent;\n        if (this.props.parent.state.isDeveMode === true){\n            this.app.state['user'] ={\n                \"course\":{\"title\":\"ddddd\"} ,\n                //\"course\" : this.app.state.user.course,\n                \"timer\":\"01:00\",\n                \"count\":12,\n                \"countAvgScore\":99,\n                \"countTimes\":[5000,4000,2000],\n                \"score\":40.1,\n                \"elapsed_time\":30,\n                \"start_Time\":10,\n                \"end_time\":40\n            }\n        }\n\n        this.resetCounter = this.resetCounter.bind(this)\n\n        let times = this.app.state.user.timer.split(\":\")\n        //let avgtime = ( parseInt(times[0]) * 60 + parseInt(times[1]) ) / this.app.state.user.count\n        let actionCountTime = 0\n        //let actionScore = 0\n        for (var i=0;i<this.app.state.user.countTimes.length;i++)\n            actionCountTime += this.app.state.user.countTimes[i]\n        //for (var j=0;j<this.app.state.user.score.length;j++){\n        //    actionScore += this.app.state.user.score[j]\n        //    console.log( \"actionScore\",actionScore )\n        //}\n\n\n        let avgtime = actionCountTime / 1000 / this.app.state.user.count\n\n        let min = parseInt( avgtime / 60 )\n        let sec = Math.round( (avgtime % 60) * 10) / 10\n        this.state = { \"countDown\":30,\n                        \"handleKeys\" : ['s','x','enter'],\n                        \"totalTime\": times,\n                        \"avgTime\": [min > 9 ? min  : '0'+min, sec > 9 ? sec : '0'+sec],\n                        \"countAvgTime\": avgtime,\n                        \"countAvgScore\" : this.app.state.user.score,\n                        \"startNumber\" : this.app.state.user.score <=20 ? '★': this.app.state.user.score <=40 ? '★★' : this.app.state.user.score <=60 ? '★★★' : this.app.state.user.score <=80 ? '★★★★' : '★★★★★'\n                         }\n        this.button2 = null;\n        this.props.parent.currentPage = this;\n        this.props.parent.setState({\"availableKeys\" : this.state.handleKeys})\n    }\n\n    resetCounter(){\n        this.setState({\"countDown\":30})\n    }\n\n    async componentDidMount() {\n        if(this.button2)\n            this.button2.focus();\n        this.setState({ \"countDown\": 30})\n\n        if (this.props.parent.state.isDeveMode === false){\n            var interval = window.setInterval(()=>{\n                if ( this.state != null ){\n\n                    var newCountDown = this.state.countDown -1\n                    this.setState({ \"countDown\": newCountDown})\n                    if ( newCountDown === 0){\n                        this.app.changePage( this.app.state.pageIndex.Home )\n                    }\n                }\n            }, 1000)\n\n            this.setState({\"interval\":interval})\n\n            tools.Util.sendLogScore(\n            {\n                \"elapsed_time\": this.app.state.user.elapsed_time,\n                \"start_time\": this.app.state.user.start_time,\n                \"end_time\": this.app.state.user.end_time,\n                \"course\": this.app.state.user.course.title,\n                \"count\": this.app.state.user.count,\n                \"average_time\": this.state.countAvgTime,\n                \"correct_rate\": this.state.countAvgScore,\n                \"user_id\": this.app.state.user.userId,\n                \"age\": this.app.state.user.age,\n                \"gender\": this.app.state.user.gender,\n                \"coach\": this.app.state.user.coach,\n                \"course_category\": this.app.state.user.category,\n            })\n        }\n    }\n\n    componentWillUnmount(){\n        if (this.props.parent.state.isDeveMode === false){\n            if (this.state.interval)\n                window.clearInterval( this.state.interval )\n        }\n    }\n\n    async mycallback(title){\n        if (this.props.parent.state.isDeveMode === false){\n            this.app.ws.send( JSON.stringify({\"function\":\"uploadCourse\", \"name\":encodeURI(title)} ))\n        }\n    }\n\n    render(){\n        return (<KeyboardEventHandler\n                handleKeys={this.state.handleKeys}\n                onKeyEvent={(key, e, page) => this.props.util(key, e, this, page)} >\n                <div style={{backgroundImage:'url(./assets/v_bg.jpg)', width:1080, height:1920}}>\n\n                    <div className=\"classDone_Title\">\n                        您已完成{this.app.state.user.course.title}訓練\n                    </div>\n\n                    <div className=\"classDone_newCountArea\">\n                        <div className=\"classDone_Star\">{this.state.startNumber}</div>\n                        <div className=\"classDone_innerArea\">\n                            <div className=\"classDone_inner2Area\">\n                                <div className=\"classDone_newFons\"> 次數</div>\n                                <div className=\"classDone_newNumberFons\">{this.app.state.user.count}</div>\n                                <div className=\"classDone_newFons2\">/</div>\n                                <div className=\"classDone_newFons\">正確率</div>\n                                <div className=\"classDone_newNumberFons\">{this.state.countAvgScore}</div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"classDone_AvgTime_title\">\n                        每個動作平均時間\n                    </div>\n                    {\n                        parseInt(this.state.avgTime[0]) > 0\n                        ?\n                        (\n                            <div className=\"classDone_AvglTime_value\">\n                                {this.app.state.user.avgTime[0]}<div style={{fontSize:32,display:'inline'}}>mis</div>\n                                {this.app.state.user.avgTime[1]}<div style={{fontSize:32,display:'inline'}}>sec</div>\n                            </div>\n                        )\n                        :\n                        (\n                            <div className=\"classDone_AvglTime_value\">\n                                {this.state.avgTime[1]}<div style={{fontSize:32,display:'inline'}}>sec</div>\n                            </div>\n                        )\n                    }\n\n                    <div className=\"classDone_TotalTime_title\">\n                        總運動時間\n                    </div>\n\n                    {\n                        parseInt(this.state.totalTime[0]) > 0\n                        ?\n                        (\n                            <div className=\"classDone_TotalTime_value\">\n                                {this.state.totalTime[0]}<div style={{fontSize:32,display:'inline'}}>mis</div>\n                                {this.state.totalTime[1]}<div style={{fontSize:32,display:'inline'}}>sec</div>\n                            </div>\n                        )\n                        :\n                        (\n                            <div className=\"classDone_TotalTime_value\">\n                                {this.state.totalTime[1]}<div style={{fontSize:32,display:'inline'}}>sec</div>\n                            </div>\n                        )\n                    }\n\n                    <div className=\"classDone_qrcode_area\" ></div>\n                    <div className=\"classDone_qrcode_title\">MOVE健身鏡滿意度調查</div>\n                    <div className=\"classDone_qrcode_value\"></div>\n\n                    <button className=\"classDone_okButton\"\n                        tabIndex=\"2\"\n                        targetpage={this.app.state.pageIndex.ClassBegin}\n                        selectcallback=\"mycallback\"\n                        selectcallbackparam={this.app.state.user.course.title}\n                        ref={(input) => { this.button1 = input; }}\n                    >再做一次</button>\n\n                    <button className=\"classDone_endButton\"\n                        tabIndex=\"1\"\n                        targetpage={this.app.state.pageIndex.Class2}\n                        ref={(input) => { this.button2 = input; }}\n                    >結束</button>\n\n                        <video className=\"class2_tour\" loop={true} controls={false} muted={true} autoPlay={true}>\n                            <source src=\"/assets/horizontal.mp4\"></source>\n                        </video>\n                </div>\n            </KeyboardEventHandler>)\n    }\n}\n\nexport default ClassDone;\n","import React from 'react';\nimport './App.css';\n\nimport tools from './pages/util.js'\n\nimport Home from './pages/Home.js'\nimport ClassBegin from './pages/ClassBegin';\nimport Class2 from './pages/Class2';\nimport ClassDone from './pages/ClassDone';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {page: 1,\n                  availableKeys:[],\"lastActionTime\":\"\",\n                  isDeveMode: process.env.NODE_ENV !== 'production',\n                  doExercise:false, websocketip:'127.0.0.1:5500',\n                  pageIndex:{\n                    \"Home\":1,\n                    \"Class2\":2,\n                    \"ClassBegin\":3,\n                    \"ClassDone\":4\n                  },\n                  user:{userId:null,age:null,gender:null,height:null,weight:null,accuniq:null}\n                } ;\n\n    this.useWebSocket = this.useWebSocket.bind(this);\n    this.changePage = this.changePage.bind(this);\n    this.currentPage = null;\n  }\n\n  componentDidMount() {\n    if ( this.state.isDeveMode === false){\n      this.useWebSocket(this)\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if ( this.state.isDeveMode === false){\n      this.useWebSocket(this)\n    }\n  }\n  componentWillUnmount() {\n\n  }\n\n  keyEvent = ((key, e, page) => tools.Util.KeyboardEventHandler_onKeyEvent(key, e,this,page))\n\n  useWebSocket(app){\n    let _app = this\n\n    if (this.ws == null){\n      this.ws = new WebSocket(\"ws://\"+_app.state.websocketip+\"/api\");\n\n      this.ws.onopen = function() {\n        console.log(\"onopen\")\n      };\n\n      this.ws.onmessage = function(e) {\n\n        let json = JSON.parse(e.data)\n        if (json['function'] === 'exercise_status' && app.state.doExercise === false) {\n          var key = json['最後動作']\n          var currentFoucs = window.$(':focus')[0]\n          console.log( key, currentFoucs)\n          switch(key){\n\n            /*case \"左手彎舉\":\n              console.log('case 左手彎舉 and 向上選取')\n              if (_app.state.availableKeys.includes('s')){ //up\n                console.log('case 左手彎舉 in if')\n                _app.keyEvent('s', {\"target\":currentFoucs},_app.currentPage)\n              }\n              break;*/\n\n            case \"向上選取\":\n              console.log('case 向上選取')\n              if (_app.state.availableKeys.includes('s')){ //up\n                console.log('case 向上選取 in if')\n                _app.keyEvent('s', {\"target\":currentFoucs},_app.currentPage)\n              }\n              break;\n\n            /*case \"右手彎舉\":\n              console.log('case 右手彎舉 and 向下選取')\n              if (_app.state.availableKeys.includes('x')){ //down\n                console.log('case 向下選取 in if')\n                _app.keyEvent('x', {\"target\":currentFoucs},_app.currentPage)\n              }\n              break;*/\n\n            case \"向下選取\":\n              console.log('case 向下選取')\n              if (_app.state.availableKeys.includes('x')){ //down\n                console.log('case 向下選取 in if')\n                _app.keyEvent('x', {\"target\":currentFoucs},_app.currentPage)\n              }\n              break;\n\n            /*case \"雙手交叉\":\n              console.log('case 雙手交叉 and 取消')\n              if (_app.state.availableKeys.includes('esc')){\n                console.log('case 取消 in if')\n                _app.keyEvent('esc', {\"target\":currentFoucs},_app.currentPage)\n              }\n              break;*/\n\n            case \"取消\":\n              console.log('case 取消')\n              if (_app.state.availableKeys.includes('esc')){\n                console.log('case 取消 in if')\n                _app.keyEvent('esc', {\"target\":currentFoucs},_app.currentPage)\n              }\n              break;\n\n            case \"向右選取\":\n              console.log('case 向右選取')\n              if (_app.state.availableKeys.includes('z')){ // 'left'\n                console.log('case 向右選取 in if')\n                _app.keyEvent('z', {\"target\":currentFoucs},_app.currentPage)\n              }\n              break;\n            case \"向左選取\":\n              console.log('case 向左選取')\n              if (_app.state.availableKeys.includes('c')){ // right\n                console.log('case 向左選取 in if')\n                _app.keyEvent('c', {\"target\":currentFoucs},_app.currentPage)\n              }\n              break;\n\n\n            /*case \"雙手彎舉\":\n              console.log('case 雙手彎舉 and 點選')\n              console.log('case 點選')\n              if (_app.state.availableKeys.includes('enter')){\n                console.log('case 點選 in if')\n                _app.keyEvent('enter', {\"target\":currentFoucs},_app.currentPage)\n              }\n              break;*/\n\n            case \"點選\":\n              console.log('case 點選')\n              if (_app.state.availableKeys.includes('enter')){\n                console.log('case 點選 in if')\n                _app.keyEvent('enter', {\"target\":currentFoucs},_app.currentPage)\n              }\n              break;\n\n            default:\n              break;\n          }\n        } else if (json['function'] === 'getExercise') {\n          console.log( 'function === getExercise', json['function'] === 'getExercise' )\n          if (typeof _app.currentPage.getExerciseWebSockit === \"function\" ){\n            _app.currentPage.getExerciseWebSockit(json)\n          }\n        } else if (json['function'] === 'qrcode') {\n          console.log( 'function === qrcode', json['function'] === 'qrcode' )\n\n          if (typeof _app.currentPage.getGymPhysicalFitnessCenter === \"function\" ){\n            _app.currentPage.getGymPhysicalFitnessCenter(json['content'])\n          }\n\n        } else {\n          console.log( 'function Error ' )\n        }\n      };\n\n      this.ws.onclose = function() {\n        _app.ws = null\n        _app.useWebSocket(_app)\n      };\n\n      this.ws.onerror = function(e) {\n      };\n    }\n  }\n\n  changePage(page){\n    this.setState( {page: page})\n  }\n\n  render() {\n    const currentPageIndex = this.state.page;\n\n    return (\n      <div className=\"App\" style={{maxWidth:1080, maxHeight:1920, minHeight:1920,minWidth:1080}} >\n        { currentPageIndex === this.state.pageIndex.Home\n            ? <Home util={this.keyEvent} parent={this} ></Home>\n            : currentPageIndex === this.state.pageIndex.Class2\n            ? <Class2 util={this.keyEvent} parent={this} ></Class2>\n            : currentPageIndex === this.state.pageIndex.ClassBegin\n            ? <ClassBegin util={this.keyEvent} parent={this} ></ClassBegin>\n            : <ClassDone util={this.keyEvent} parent={this} ></ClassDone> }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","var canDoEvent = true;\nvar util = {\n\n    sendLogScore(log){\n        fetch('http://127.0.0.1:4000/activities', {\n            method: 'POST',\n            mode: 'cors',\n            //credentials: 'include',\n            crossDomain:true,\n            headers:{\n                Accept: '*/*',\n                'Content-Type': 'application/json;charset=UTF-8'\n            },\n            body : JSON.stringify(\n                {\n                    \"activity\": log\n                }\n            )\n        });\n    },\n    sendLogNoScore(log){\n        fetch('http://127.0.0.1:4000/giveup_activities', {\n            method: 'POST',\n            mode: 'cors',\n            //credentials: 'include',\n            crossDomain:true,\n            headers:{\n                Accept: '*/*',\n                'Content-Type': 'application/json;charset=UTF-8'\n            },\n            body : JSON.stringify(\n                {\n                    \"giveup_activity\": log\n                }\n            )\n        });\n    },\n\n    DateTimeFormat(date,fmt) { //author: meizz\n        var o = {\n            \"M+\": date.getMonth() + 1, //月份\n            \"d+\": date.getDate(), //日\n            \"h+\": date.getHours(), //小时\n            \"m+\": date.getMinutes(), //分\n            \"s+\": date.getSeconds(), //秒\n            \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度\n            \"S\": date.getMilliseconds() //毫秒\n        };\n        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n        for (var k in o)\n            if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n        return fmt;\n    },\n\n    Class2Focus:function(target){\n        var jqTarget = window.$( target )\n\n        let row = parseInt(jqTarget.attr('row_index'))\n        let col = parseInt(jqTarget.attr('col_index'))\n\n        let child = window.$('div[row_index='+row+'][col_index='+col+']')[0]\n        let space = (\n            parseInt(window.$(child).css('width').replace('px','')) +\n            parseInt(window.$(child).css('margin-right').replace('px',''))\n        )\n\n        let toLeft = space*col\n\n        window.$(child.parentNode).animate({scrollLeft: toLeft},\"normal\",\"linear\",()=>{});\n\n        target.focus();\n    },\n\n    KeyboardEventHandler_onKeyEvent: function(key, e, react, page){\n        //console.log(\"start Key Event >> \",key, canDoEvent)\n\n        if (canDoEvent){\n            canDoEvent = false;\n            var jqTarget = window.$( e.target )\n            var jqVisibleInputs = window.$('a:visible,:input:visible,div[tabindex]');\n            var jqFirst = jqVisibleInputs.first();\n            var jqLast = jqVisibleInputs.last();\n\n            switch(key){\n                case 'z':\n                    let l_row = parseInt(jqTarget.attr('row_index'))\n                    let l_col = parseInt(jqTarget.attr('col_index'))-1\n                    let l_col_max = parseInt(jqTarget.attr('col_max'))\n\n                    if (l_col  < 0 ) {\n                        canDoEvent = true;\n                        break;\n                    }\n                        //l_col = l_col_max-1\n\n                    let l_child = window.$('div[row_index='+l_row+'][col_index='+l_col+']')[0]\n\n                    let l_space = (\n                        parseInt(window.$(l_child).css('width').replace('px','')) +\n                        parseInt(window.$(l_child).css('margin-right').replace('px',''))\n                    ) ;\n\n                    let l_toLeft = l_space * l_col\n\n                    window.$(l_child.parentNode).animate({scrollLeft: l_toLeft},\"normal\",\"linear\",()=>{\n                        canDoEvent = true;\n                        console.log(\"left jquery animate finish\")\n                    });\n\n                    l_child.focus();\n                    page.resetCounter();\n                    break;\n                case 'c':\n                    let r_row = parseInt(jqTarget.attr('row_index'))\n                    let r_col = parseInt(jqTarget.attr('col_index'))+1\n                    let r_col_max = parseInt(jqTarget.attr('col_max'))\n\n                    if (r_col === r_col_max) {\n                        canDoEvent = true;\n                        break;\n                    }//r_col = 0\n\n                    let r_child = window.$('div[row_index='+r_row+'][col_index='+r_col+']')[0]\n                    let r_space = (\n                        parseInt(window.$(r_child).css('width').replace('px','')) +\n                        parseInt(window.$(r_child).css('margin-right').replace('px',''))\n                    )\n\n                    let r_toLeft = r_space*r_col\n\n                    window.$(r_child.parentNode).animate({scrollLeft: r_toLeft},\"normal\",\"linear\",()=>{\n                        canDoEvent = true;\n                        console.log(\"right jquery animate finish\")\n                    });\n\n                    r_child.focus();\n                    page.resetCounter();\n                    break;\n\n                case 'enter':\n                    if (jqTarget.attr('attr') != null){\n                        react.setState( JSON.parse(jqTarget.attr('attr')) )\n                    }\n                    if (jqTarget.attr('selectcallback') != null){\n                        page[jqTarget.attr('selectcallback')]( jqTarget.attr('selectcallbackparam'))\n                    }\n\n                    jqTarget.addClass(\"blink\").one('webkitAnimationEnd animationend', function () {\n                        setTimeout(function () {\n                            jqTarget.removeClass(\"blink\");\n\n                            canDoEvent = true;\n                            if (jqTarget.attr('targetpage')){\n                                react.changePage( parseInt(jqTarget.attr('targetpage')))\n                            } else {\n                                react.changePage( react.state.page+1 )\n                            }\n\n                        }, 500);\n\n                    });\n\n                    break;\n                case 's':\n                    if (jqTarget[0].tagName === \"DIV\"){\n                        let u_row = parseInt(jqTarget.attr('row_index')) - 1\n                        let u_row_max = parseInt(jqTarget.attr('row_max'))\n                        let u_col = parseInt(jqTarget.attr('col_index'))\n\n                        if ( u_row  < 0) {\n                            canDoEvent = true;\n                            break;\n                        }\n                            //u_row = u_row_max-1\n                        let u_next = window.$('div[row_index='+u_row+'][col_index=0]');\n\n                        while( u_next.length === 0){\n                            u_row = u_row - 1\n                            if ( u_row  < 0) u_row = u_row_max-1\n                            u_next = window.$('div[row_index='+u_row+'][col_index=0]');\n                        }\n\n                        let u_col_current = window.$('div[row_index='+(u_row)+'][row_header=true]').attr('col_current')\n                        u_col = ( u_col_current ) ? u_col_current  : 0\n\n                        let u_child = window.$('div[row_index='+u_row+'][col_index='+u_col+']')[0]\n\n                        let u_space = (\n                            parseInt(window.$(u_child).css('width').replace('px','')) +\n                            parseInt(window.$(u_child).css('margin-right').replace('px',''))\n                        ) * u_col;\n\n                        window.$(u_child.parentNode).animate({scrollLeft: u_space},\"normal\",\"linear\",()=>{\n                            canDoEvent = true;\n                            console.log(\"up jquery animate finish\")\n                        });\n\n                        u_child.focus();\n                    } else {\n                        if (jqTarget.is(jqFirst))\n                            jqLast.focus()\n                        else\n                            jqTarget.prev().focus();\n                        canDoEvent = true;\n                    }\n\n                    page.resetCounter();\n                    break;\n                case 'x':\n                    if (jqTarget[0].tagName === \"DIV\"){\n                        let d_row = parseInt(jqTarget.attr('row_index')) +1\n                        let d_row_max = parseInt(jqTarget.attr('row_max'))\n                        let d_col = parseInt(jqTarget.attr('col_index'))\n\n                        if ( d_row === d_row_max) {\n                            canDoEvent = true;\n                            break;\n                        }\n                            //d_row = 0;\n                        let d_next = window.$('div[row_index='+d_row+'][col_index=0]');\n                        while( d_next.length === 0){\n                            d_row = d_row+1\n                            if ( d_row === d_row_max)  d_row = 0;\n                            d_next = window.$('div[row_index='+d_row+'][col_index=0]');\n                        }\n\n                        let d_col_current = window.$('div[row_index='+(d_row)+'][row_header=true]').attr('col_current')\n                        d_col = ( d_col_current ) ? d_col_current  : 0\n\n                        let d_child = window.$('div[row_index='+d_row+'][col_index='+d_col+']')[0]\n\n                        let d_space = (\n                            parseInt(window.$(d_child).css('width').replace('px','')) +\n                            parseInt(window.$(d_child).css('margin-right').replace('px',''))\n                        ) * d_col;\n\n                        window.$(d_child.parentNode).animate({scrollLeft: d_space},\"normal\",\"linear\",()=>{\n                            canDoEvent = true;\n                            console.log(\"down jquery animate finish\")\n                        });\n\n                        d_child.focus();\n                    } else {\n                        if (jqTarget.is(jqLast))\n                            jqFirst.focus()\n                        else\n                            jqTarget.next().focus();\n                        canDoEvent = true;\n                    }\n                    page.resetCounter();\n                    break;\n                case 'esc':\n                    if (react.state.page > 1){\n                        canDoEvent = true;\n                        react.changePage( react.state.page-1)\n                    }\n                    break;\n                default:\n                    canDoEvent = true;\n                    break;\n            }\n        }\n   }\n}\n\nexports.Util = util;"],"sourceRoot":""}